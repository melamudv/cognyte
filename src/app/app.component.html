<div fxLayout="row" fxLayoutAlign="space-between start" class="wrapper-all">
  <div fxFlex="60">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($any($event.target).value)" placeholder="Filter">
    </mat-form-field>

    <cdk-virtual-scroll-viewport tvsItemSize="48"
                                 class="wrapper mat-elevation-z2">
      <table  mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" (matSortChange)="sortData($event)">
          <ng-container matColumnDef="select">
            <th mat-header-cell
                *matHeaderCellDef
                class="col-sm">
            </th>
            <td mat-cell
                *matCellDef="let row"
                class="col-sm">
              <mat-checkbox (click)="$event.stopPropagation()"
                            (change)="$event ? selection.toggle(row) : null;isSelectedRow(row)"
                            [checked]="selection.isSelected(row)"
                            [aria-label]="checkboxLabel(row)">
              </mat-checkbox>
            </td>
          </ng-container>
          <ng-container matColumnDef="position">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="col-sm"> position. </th>
            <td mat-cell
                *matCellDef="let element"
                class="col-sm"> {{element.position}} </td>
          </ng-container>
          <!-- Position Column -->
          <ng-container matColumnDef="ID">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="col-sm"> ID. </th>
            <td mat-cell
                *matCellDef="let element"
                class="col-sm"> {{element.ID}} </td>
          </ng-container>

          <!-- Name Date -->
          <ng-container matColumnDef="Date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
            <td mat-cell *matCellDef="let element"> {{element.Date | date}} </td>
          </ng-container>

          <!-- Param1 Column -->
          <ng-container matColumnDef="Param1">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param1 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param1}} </td>
          </ng-container>

          <!-- Param2 Column -->
          <ng-container matColumnDef="Param2">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param2 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param2}} </td>
          </ng-container>

          <!-- Param3 Column -->
          <ng-container matColumnDef="Param3">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param3 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param3}} </td>
          </ng-container>

          <!-- Param4 Column -->
          <ng-container matColumnDef="Param4">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param4 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param4}} </td>
          </ng-container>

          <!-- Param5 Column -->
          <ng-container matColumnDef="Param5">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param5 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param5}} </td>
          </ng-container>

          <!-- Param6 Column -->
          <ng-container matColumnDef="Param6">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param6 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param6}} </td>
          </ng-container>

          <!-- Param7 Column -->
          <ng-container matColumnDef="Param7">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param7 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param7}} </td>
          </ng-container>

          <!-- Param8 Column -->
          <ng-container matColumnDef="Param8">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param8 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param8}} </td>
          </ng-container>

          <!-- Param9 Column -->
          <ng-container matColumnDef="Param9">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Param9 </th>
            <td mat-cell *matCellDef="let element"> {{element.Param9}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" ></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"
              (click)="selection.toggle(row)">
          </tr>
        <!-- Checkbox Column -->
      </table>
      <div *ngIf="loading" class="loading" fxLayout="row" fxLayoutAlign="center center" >
        <mat-progress-spinner
          color="primary"
          mode="indeterminate">
        </mat-progress-spinner>
      </div>
    </cdk-virtual-scroll-viewport>
  </div>
  <div class="map-wrapper">
    <app-map style="height:100%;" (latLng)="onLatLng($event)" [selectedData]="selectedData" [markerClusterData]="dataSource.data"></app-map>
  </div>
</div>

